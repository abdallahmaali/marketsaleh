import{n as ve,u as pe,y as me,z as ge,d as o,j as he,e as fe,c as n,o as l,a as e,f as S,l as p,t as s,q as T,F as m,r as g,b as r,g as R,s as we,A as _e,_ as xe,B as ye,C as be,D as ke,E as $e,w as F,S as d}from"./app-CDaCnhxO.js";import{S as te,d as Re}from"./swiper-BiU2hey-.js";import{f as Pe,_ as Ce,a as Ve}from"./free-mode-Cvs7xm42.js";import{_ as je}from"./ProductCard-Bg-vEhLQ.js";import"./Bag-DZx3MiPw.js";const Se={class:""},Te={class:"h-56 md:h-64 w-full"},Be=["src"],Le={class:"main-container relative bg-primary-50 py-10 pt-24"},Me={class:"-top-32 sm:-top-28 lg:-top-[108px] absolute left-0 right-0 main-container"},ze={key:0,class:"w-full p-6 bg-white rounded-2xl shadow flex-col gap-2 sm:gap-6 flex"},Ae={class:"flex justify-between w-full gap-3 sm:gap-6 flex-wrap sm:flex-nowrap"},De={class:"flex grow gap-6"},Fe={class:"w-16 h-16 md:w-[88px] md:h-[88px] rounded-full overflow-hidden shrink-0"},Ne=["src"],He={class:"flex flex-col items-start gap-2"},Ue={class:"flex justify-start items-center w-full gap-2"},Ee={class:"text-slate-950 text-lg font-bold leading-normal tracking-tight"},Ie={class:"flex justify-start items-center gap-4"},qe={class:"text-slate-500 text-base font-normal leading-normal"},Oe={class:"text-slate-500 text-sm font-normal leading-tight"},Ge=["innerHTML"],Je={class:"w-full flex justify-end gap-5 my-2"},Ke={class:"sm:border-l border-slate-200 w-full sm:w-[140px] md:w-[140px] flex flex-row-reverse sm:flex-col justify-end sm:justify-start items-end gap-2"},Qe={class:"flex gap-1"},We={class:"text-slate-800 text-base font-bold leading-normal"},Xe={class:"text-slate-500 text-base font-normal leading-normal"},Ye={class:"flex"},Ze={class:"flex justify-between items-center w-full"},et={class:"lg:w-[448px] relative hidden sm:block"},tt=["placeholder"],st={class:"pt-10"},at=["src"],lt={class:"main-container py-10 pt-24"},ot={class:"mt-12"},nt={key:0,class:"w-full"},it={class:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3 md:gap-6 items-start"},rt={key:0,class:"text-slate-950 text-xl font-medium leading-7"},ut={key:1,class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},dt={class:"text-slate-800 text-base font-normal leading-normal"},ct={key:1,class:"w-full"},vt={class:"grid grid-cols-1 xl:grid-cols-2 gap-8 items-start"},pt={class:"text-slate-950 text-xl font-medium leading-7"},mt={class:"text-slate-950 text-xl font-medium leading-7"},gt={class:"mt-4"},ht={class:"w-full flex gap-3 items-center"},ft={class:"w-full space-y-2"},wt={key:2,class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},_t={class:"text-slate-800 text-base font-normal leading-normal"},xt={key:3},yt={class:"text-slate-700 text-xl font-medium leading-7 italic"},Vt={__name:"ShopDetails",setup(bt){const x=ve(),N=pe(),se=new me,B=ge(),ae=[Pe],h=o(!0),f=o(!0),w=o(!1),y=o(!0),b=o(!1),c=o(1),P=o(12),le=t=>{c.value=t,D()},C=o(5),_=o(1),oe=t=>{_.value=t,U()},u=o({}),k=o([]),L=o(0),M=o({}),V=o(0),$=o([]),z=o(""),A=o(!1),j=o(null);let H=null;const ne=()=>{clearTimeout(H),H=setTimeout(()=>{c.value=1,y.value=!0,b.value=!1,D()},1e3)};he(()=>{if(!N.multiVendor){se.push("/");return}re(),window.scrollTo(0,0),D()});const ie=()=>{y.value=!1,b.value=!0,U()},re=async()=>{h.value=!0,axios.get("/shops/"+B.params.id).then(t=>{u.value=t.data.data.shop,setTimeout(()=>{h.value=!1},200)}).catch(t=>{h.value=!1})},D=async()=>{f.value=!0,axios.get("/products",{params:{shop_id:B.params.id,page:c.value,per_page:P.value,search:z.value},headers:{"Accept-Language":N.locale||"en",Authorization:x.token}}).then(t=>{L.value=t.data.data.total,k.value=t.data.data.products,f.value=!1}).catch(t=>{f.value=!1})},U=async()=>{w.value=!0,axios.get("/reviews",{params:{shop_id:B.params.id,page:_.value,per_page:C.value}}).then(t=>{V.value=t.data.data.total,$.value=t.data.data.reviews,M.value=t.data.data.average_rating_percentage,w.value=!1}).catch(t=>{w.value=!1})},ue={320:{slidesPerView:1,spaceBetween:10},768:{slidesPerView:2,spaceBetween:10},1024:{slidesPerView:2,spaceBetween:30},1280:{slidesPerView:3,spaceBetween:30}},de=t=>{j.value=t,ce()},ce=async()=>{var t;await axios.post("/store-message",{shop_id:j.value.id,user_id:(t=x==null?void 0:x.user)==null?void 0:t.id,type:"user"},{headers:{Authorization:x.token}}),A.value=!0};return(t,i)=>{var I,q,O,G,J,K,Q,W,X,Y,Z,ee;const E=fe("vue-awesome-paginate");return l(),n("div",Se,[e("div",Te,[h.value?(l(),S(d,{key:1,class:"w-full h-full"})):(l(),n("img",{key:0,src:(I=u.value)==null?void 0:I.banner,loading:"lazy",class:"w-full h-full object-cover"},null,8,Be))]),e("div",Le,[e("div",Me,[h.value?(l(),S(d,{key:1,class:"w-full h-48 p-6 rounded-2xl"})):(l(),n("div",ze,[e("div",Ae,[e("div",De,[e("div",Fe,[e("img",{src:(q=u.value)==null?void 0:q.logo,loading:"lazy",class:"w-full h-full object-cover"},null,8,Ne)]),e("div",He,[e("div",Ue,[e("div",Ee,s((O=u.value)==null?void 0:O.name),1),e("div",{class:T(["px-1 py-0.5 rounded-[10px] text-white text-xs font-normal leading-none",((G=u.value)==null?void 0:G.shop_status)==="Online"?"bg-lime-600":"bg-slate-500"])},s((J=u.value)==null?void 0:J.shop_status),3)]),e("div",Ie,[e("div",qe,s((K=u.value)==null?void 0:K.total_products)+"+ "+s(t.$t("Items")),1)]),e("div",Oe,[e("div",{innerHTML:(Q=u.value)==null?void 0:Q.description},null,8,Ge)])])]),e("div",Je,[e("div",Ke,[e("div",Qe,[e("div",We,s((X=(W=u.value)==null?void 0:W.rating)==null?void 0:X.toFixed(1)),1),e("div",Xe," ("+s((Y=u.value)==null?void 0:Y.total_reviews)+") ",1)]),e("div",Ye,[(l(),n(m,null,g(5,a=>{var v;return r(R(we),{key:a,class:T(["w-4 h-4",a<=((v=u.value)==null?void 0:v.rating)?"text-amber-500":"text-gray-300"])},null,8,["class"])}),64))])]),e("div",{onClick:i[0]||(i[0]=_e(a=>de(u.value),["stop"])),class:"w-12 h-12 flex justify-center items-center bg-red-50 rounded-lg cursor-pointer"},i[7]||(i[7]=[e("img",{src:xe,alt:"chat",class:"w-8 h-8"},null,-1)]))])]),j.value?(l(),S(ye,{key:0,show:A.value,onClose:i[1]||(i[1]=a=>A.value=!1),shop:j.value},null,8,["show","shop"])):p("",!0),e("div",Ze,[e("div",null,[e("button",{class:T(["px-4 py-3 rounded-[10px] text-base font-normal leading-normal",y.value?"text-white bg-primary":"text-slate-600"]),onClick:i[2]||(i[2]=a=>{y.value=!0,b.value=!1})},s(t.$t("All Products")),3),e("button",{class:T(["px-4 py-3 rounded-[10px] text-base font-normal leading-normal",b.value?"text-white bg-primary":"text-slate-600"]),onClick:ie},s(t.$t("Reviews")),3)]),e("div",et,[be(e("input",{type:"text",placeholder:t.$t("Search product"),class:"p-3 pr-10 bg-slate-100 rounded-lg border border-slate-200 w-full outline-none focus:border-primary transition duration-300","onUpdate:modelValue":i[3]||(i[3]=a=>z.value=a),onInput:i[4]||(i[4]=a=>ne())},null,40,tt),[[ke,z.value]]),r(R($e),{class:"w-6 h-6 absolute top-1/2 right-3 -translate-y-1/2 text-slate-400"})])])]))]),e("div",st,[r(R(Re),{breakpoints:ue,spaceBetween:30,freeMode:!0,modules:ae},{default:F(()=>{var a;return[h.value?(l(),n(m,{key:1},g(3,v=>r(R(te),{key:v},{default:F(()=>[r(d,{class:"w-full h-32 rounded-xl"})]),_:2},1024)),64)):(l(!0),n(m,{key:0},g((a=u.value)==null?void 0:a.banners,v=>(l(),S(R(te),{key:v.id},{default:F(()=>[e("img",{src:v.thumbnail,alt:"banner",loading:"lazy",class:"aspect-[6/2] rounded-xl object-cover"},null,8,at)]),_:2},1024))),128))]}),_:1})])]),e("div",lt,[e("div",ot,[y.value?(l(),n("div",nt,[e("div",it,[f.value?(l(),n(m,{key:1},g(12,a=>e("div",{key:a,class:"w-full"},[r(d,{class:"w-full h-[220px] sm:h-[330px] rounded-lg"})])),64)):(l(!0),n(m,{key:0},g(k.value,a=>(l(),n("div",{key:a.id,class:"w-full"},[r(je,{product:a},null,8,["product"])]))),128))]),k.value.length==0&&!f.value?(l(),n("div",rt,s(t.$t("No Products Found")),1)):p("",!0),k.value.length>0&&!f.value?(l(),n("div",ut,[e("div",dt,s(t.$t("Showing"))+" "+s(P.value*(c.value-1)+1)+" "+s(t.$t("to"))+" "+s(P.value*(c.value-1)+k.value.length)+" "+s(t.$t("of"))+" "+s(L.value)+" "+s(t.$t("results")),1),e("div",null,[r(E,{"total-items":L.value,"items-per-page":P.value,type:"button","max-pages-shown":5,modelValue:c.value,"onUpdate:modelValue":i[5]||(i[5]=a=>c.value=a),"hide-prev-next-when-ends":!0,onClick:le},null,8,["total-items","items-per-page","modelValue"])])])):p("",!0)])):p("",!0),b.value?(l(),n("div",ct,[e("div",vt,[e("div",null,[e("div",pt,s(t.$t("Rating and Review")),1),r(Ce,{reviewRatings:(Z=M.value)==null?void 0:Z.percentages,averageRating:(ee=M.value)==null?void 0:ee.rating,totalReview:V.value},null,8,["reviewRatings","averageRating","totalReview"])]),e("div",null,[e("div",mt,s(t.$t("Reviews")),1),e("div",gt,[w.value?(l(),n(m,{key:1},g(6,a=>e("div",{key:a,class:"mb-4"},[e("div",ht,[r(d,{class:"w-16 h-16 rounded-full shrink-0"}),e("div",ft,[r(d,{class:"w-full h-2.5 rounded-lg"}),r(d,{class:"w-11/12 h-2.5 rounded-lg"}),r(d,{class:"w-10/12 h-2.5 rounded-lg"})])])])),64)):(l(!0),n(m,{key:0},g($.value,a=>(l(),n("div",{key:a.id,class:"mb-4"},[r(Ve,{review:a},null,8,["review"])]))),128)),!w.value&&$.value.length>0?(l(),n("div",wt,[e("div",_t,s(t.$t("Showing"))+" "+s(C.value*(_.value-1)+1)+" "+s(t.$t("to"))+" "+s(C.value*(_.value-1)+$.value.length)+" "+s(t.$t("of"))+" "+s(V.value)+" "+s(t.$t("results")),1),e("div",null,[r(E,{"total-items":V.value,"items-per-page":C.value,type:"button","max-pages-shown":3,modelValue:_.value,"onUpdate:modelValue":i[6]||(i[6]=a=>_.value=a),"hide-prev-next-when-ends":!0,onClick:oe},null,8,["total-items","items-per-page","modelValue"])])])):p("",!0),$.value.length==0&&!w.value?(l(),n("div",xt,[e("div",yt,s(t.$t("No Reviews Found")),1)])):p("",!0)])])])])):p("",!0)])])])}}};export{Vt as default};
