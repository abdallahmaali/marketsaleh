import{e as B,c,o as r,a as t,q as C,t as s,F as S,r as k,b as v,g as j,s as F,w as L,u as T,x as q,d as m,j as z,y as N,f as R,l as A,S as V}from"./app-D-Y-2pyd.js";import{r as D}from"./ArrowRightIcon-DWpdMWye.js";import{S as E}from"./ShopSearchByCountry-CX-Rbo_q.js";const M={class:"w-full rounded-xl overflow-hidden border border-slate-100 hover:border-primary transition-all duration-300"},O={class:"h-28 w-full relative"},H=["src"],I={class:"text-white text-xs font-normal leading-none"},U={class:"w-full px-4 pt-14 pb-4 relative transition duration-300"},G={class:"w-[88px] h-[88px] absolute bg-slate-300 rounded-full left-1/2 -translate-x-1/2 -top-11 shadow-lg"},J=["src"],K={class:"text-slate-950 text-center text-lg font-bold leading-normal truncate overflow-hidden"},P={class:"flex justify-center items-center gap-4 w-full mt-3"},Q={class:"text-slate-500 text-base font-normal leading-normal text-center"},W={class:"flex items-center justify-center gap-2 mt-2"},X={class:"flex"},Y={class:"flex gap-1"},Z={class:"text-slate-800 text-base font-bold leading-normal"},ee={class:"text-slate-500 text-base font-normal leading-normal"},te={class:"w-full flex justify-center mt-3"},se={class:"text-base font-normal leading-tight"},oe={__name:"ShopCard",props:{shop:Object},setup($){const o=$;return(g,u)=>{var i,d,h,y,n,x,w,b,p,e;const l=B("router-link");return r(),c("div",M,[t("div",O,[t("img",{class:"w-full h-full object-cover",src:(i=o.shop)==null?void 0:i.banner,alt:"banner",loading:"lazy"},null,8,H),t("div",{class:C(["px-1 py-0.5 rounded-[10px] absolute top-2 right-2",((d=o.shop)==null?void 0:d.shop_status)==="Online"?"bg-lime-600":"bg-slate-500"])},[t("div",I,s((h=o.shop)==null?void 0:h.shop_status),1)],2)]),t("div",U,[t("div",G,[t("img",{src:(y=o.shop)==null?void 0:y.logo,alt:"logo",loading:"lazy",class:"w-full h-full object-cover rounded-full"},null,8,J)]),t("div",K,s((n=o.shop)==null?void 0:n.name),1),t("div",P,[t("div",Q,s((x=o.shop)==null?void 0:x.total_products)+"+ "+s(g.$t("Items")),1)]),t("div",W,[t("div",X,[(r(),c(S,null,k(5,a=>{var _;return v(j(F),{key:a,class:C(["w-4 h-4",a<=((_=o.shop)==null?void 0:_.rating)?"text-amber-500":"text-slate-300"])},null,8,["class"])}),64))]),t("div",Y,[t("div",Z,s((b=(w=o.shop)==null?void 0:w.rating)==null?void 0:b.toFixed(1)),1),t("div",ee," ("+s((p=o.shop)==null?void 0:p.total_reviews)+") ",1)])]),t("div",te,[v(l,{to:`/shops/${(e=o.shop)==null?void 0:e.id}`,class:"w-[156px] flex items-center justify-center px-4 py-3 transition duration-300 rounded-[10px] border border-primary text-primary hover:bg-primary hover:text-white font-medium"},{default:L(()=>[t("div",se,s(g.$t("Visit Store")),1),v(j(D),{class:"w-5 h-5 ml-0.5"})]),_:1},8,["to"])])])])}}},ae={class:"main-container py-14"},le={key:0,class:"text-slate-800 text-3xl font-bold leading-9"},ne={class:"mt-8"},re={class:"mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 items-start"},ce={key:2,class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},ue={class:"text-slate-800 text-base font-normal leading-normal"},pe={__name:"Shop",setup($){const o=T(),g=q(),u=m(!0),l=m(1),i=m(12),d=m(0),h=m([]),y=m(null),n=m({country_id:null,country_name:null,search:""});z(()=>{if(!o.multiVendor){g.push("/");return}const e=g.currentRoute.value.query;(e.country_id||e.search)&&(n.value={country_id:e.country_id||null,country_name:null,search:e.search||""}),p(),window.scrollTo(0,0)});const x=async e=>{l.value=e,p()},w=e=>{var a,_;n.value={country_id:((a=e.country)==null?void 0:a.id)||null,country_name:((_=e.country)==null?void 0:_.name)||null,search:e.search||""},l.value=1,p()},b=()=>{n.value={country_id:null,country_name:null,search:""},l.value=1,p()},p=async()=>{window.scrollTo(0,0),u.value=!0;const e={page:l.value,per_page:i.value};n.value.country_id&&(e.country_id=n.value.country_id),n.value.search&&(e.search=n.value.search),N.get("/shops",{params:e,headers:{"Accept-Language":o.locale||"en"}}).then(a=>{d.value=a.data.data.total,h.value=a.data.data.shops,setTimeout(()=>{u.value=!1},300)}).catch(a=>{console.error("Error fetching shops:",a),u.value=!1})};return(e,a)=>{const _=B("vue-awesome-paginate");return r(),c("div",ae,[u.value?(r(),R(V,{key:1,class:"w-48 sm:w-60 md:w-72 lg:w-96 h-12 rounded-lg"})):(r(),c("div",le,s(e.$t("All Shops")),1)),t("div",ne,[v(E,{showTitle:!1,showResultsCount:!0,resultsCount:d.value,autoSearch:!0,debounceDelay:300,onSearch:w,onClear:b,ref_key:"searchComponent",ref:y},null,8,["resultsCount"])]),t("div",re,[u.value?(r(),c(S,{key:1},k(8,f=>t("div",{key:f},[v(V,{class:"w-full h-[200px] sm:h-[250px] rounded-lg"})])),64)):(r(!0),c(S,{key:0},k(h.value,f=>(r(),c("div",{key:f.id,class:"w-full"},[v(oe,{shop:f},null,8,["shop"])]))),128))]),h.value.length>0&&!u.value?(r(),c("div",ce,[t("div",ue,s(e.$t("Showing"))+" "+s(i.value*(l.value-1)+1)+" "+s(e.$t("to"))+" "+s(i.value*(l.value-1)+h.value.length)+" "+s(e.$t("of"))+" "+s(d.value)+" "+s(e.$t("results")),1),t("div",null,[v(_,{"total-items":d.value,"items-per-page":i.value,type:"button","hide-prev-next-when-ends":!0,"max-pages-shown":5,modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=f=>l.value=f),onClick:x},null,8,["total-items","items-per-page","modelValue"])])])):A("",!0)])}}};export{pe as default};
