import{n as ve,u as pe,x as me,H as ge,d as n,j as he,e as fe,c as o,o as l,a as e,f as j,l as c,b as r,t as s,q as T,F as g,r as h,g as f,s as we,I as _e,J as xe,K as ye,L as be,A as ke,B as $e,D as Pe,w as F,S as v}from"./app-D-Y-2pyd.js";import{S as te,d as Re}from"./swiper-s6VJZGll.js";import{f as Ce,_ as Se,a as Ve}from"./free-mode-BIB5-Yqf.js";import{_ as je}from"./ProductCard-COvWwQUN.js";import"./Bag-DdZqfCG6.js";const Te={class:""},Be={class:"h-56 md:h-64 w-full"},Le=["src"],Me={class:"main-container relative bg-primary-50 py-10 pt-24"},ze={class:"-top-32 sm:-top-28 lg:-top-[108px] absolute left-0 right-0 main-container"},Ae={key:0,class:"w-full p-6 bg-white rounded-2xl shadow flex-col gap-2 sm:gap-6 flex"},De={class:"flex justify-between w-full gap-3 sm:gap-6 flex-wrap sm:flex-nowrap"},Fe={class:"flex grow gap-6"},Ne={class:"w-16 h-16 md:w-[88px] md:h-[88px] rounded-full overflow-hidden shrink-0"},He=["src"],Ie={class:"flex flex-col items-start gap-2"},Ue={class:"flex justify-start items-center w-full gap-2"},qe={class:"text-slate-950 text-lg font-bold leading-normal tracking-tight"},Ee={class:"flex justify-start items-center gap-4"},Je={class:"text-slate-500 text-base font-normal leading-normal"},Ke={class:"text-slate-500 text-sm font-normal leading-tight"},Oe=["innerHTML"],Ge={class:"w-full flex justify-end gap-5 my-2"},Qe={class:"sm:border-l border-slate-200 w-full sm:w-[140px] md:w-[140px] flex flex-row-reverse sm:flex-col justify-end sm:justify-start items-end gap-2"},We={class:"flex gap-1"},Xe={class:"text-slate-800 text-base font-bold leading-normal"},Ye={class:"text-slate-500 text-base font-normal leading-normal"},Ze={class:"flex"},et=["title"],tt={class:"text-sm font-medium text-gray-700"},st={key:0,class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap z-10"},at={class:"flex justify-between items-center w-full"},lt={class:"lg:w-[448px] relative hidden sm:block"},ot=["placeholder"],nt={class:"pt-10"},it=["src"],rt={class:"main-container py-10 pt-24"},ut={class:"mt-12"},dt={key:0,class:"w-full"},ct={class:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3 md:gap-6 items-start"},vt={key:0,class:"text-slate-950 text-xl font-medium leading-7"},pt={key:1,class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},mt={class:"text-slate-800 text-base font-normal leading-normal"},gt={key:1,class:"w-full"},ht={class:"grid grid-cols-1 xl:grid-cols-2 gap-8 items-start"},ft={class:"text-slate-950 text-xl font-medium leading-7"},wt={class:"text-slate-950 text-xl font-medium leading-7"},_t={class:"mt-4"},xt={class:"w-full flex gap-3 items-center"},yt={class:"w-full space-y-2"},bt={key:2,class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},kt={class:"text-slate-800 text-base font-normal leading-normal"},$t={key:3},Pt={class:"text-slate-700 text-xl font-medium leading-7 italic"},Bt={__name:"ShopDetails",setup(Rt){const d=ve(),N=pe(),se=new me,B=ge(),ae=[Ce],w=n(!0),_=n(!0),x=n(!1),b=n(!0),k=n(!1),p=n(1),R=n(12),le=t=>{p.value=t,D()},C=n(5),y=n(1),oe=t=>{y.value=t,I()},u=n({}),$=n([]),L=n(0),M=n({}),S=n(0),P=n([]),z=n(""),A=n(!1),V=n(null);let H=null;const ne=()=>{clearTimeout(H),H=setTimeout(()=>{p.value=1,b.value=!0,k.value=!1,D()},1e3)};he(()=>{if(!N.multiVendor){se.push("/");return}re(),window.scrollTo(0,0),D()});const ie=()=>{b.value=!1,k.value=!0,I()},re=async()=>{w.value=!0,axios.get("/shops/"+B.params.id).then(t=>{u.value=t.data.data.shop,setTimeout(()=>{w.value=!1},200)}).catch(t=>{w.value=!1})},D=async()=>{_.value=!0,axios.get("/products",{params:{shop_id:B.params.id,page:p.value,per_page:R.value,search:z.value},headers:{"Accept-Language":N.locale||"en",Authorization:d.token}}).then(t=>{L.value=t.data.data.total,$.value=t.data.data.products,_.value=!1}).catch(t=>{_.value=!1})},I=async()=>{x.value=!0,axios.get("/reviews",{params:{shop_id:B.params.id,page:y.value,per_page:C.value}}).then(t=>{S.value=t.data.data.total,P.value=t.data.data.reviews,M.value=t.data.data.average_rating_percentage,x.value=!1}).catch(t=>{x.value=!1})},ue={320:{slidesPerView:1,spaceBetween:10},768:{slidesPerView:2,spaceBetween:10},1024:{slidesPerView:2,spaceBetween:30},1280:{slidesPerView:3,spaceBetween:30}},de=t=>{if(d.token===null)return d.loginModal=!0;V.value=t,ce()},ce=async()=>{var t;await axios.post("/store-message",{shop_id:V.value.id,user_id:(t=d==null?void 0:d.user)==null?void 0:t.id,type:"user"},{headers:{Authorization:d.token}}),A.value=!0};return(t,i)=>{var q,E,J,K,O,G,Q,W,X,Y,Z,ee;const U=fe("vue-awesome-paginate");return l(),o("div",Te,[e("div",Be,[w.value?(l(),j(v,{key:1,class:"w-full h-full"})):(l(),o("img",{key:0,src:(q=u.value)==null?void 0:q.banner,loading:"lazy",class:"w-full h-full object-cover"},null,8,Le))]),e("div",Me,[e("div",ze,[w.value?(l(),j(v,{key:1,class:"w-full h-48 p-6 rounded-2xl"})):(l(),o("div",Ae,[e("div",De,[e("div",Fe,[e("div",Ne,[e("img",{src:(E=u.value)==null?void 0:E.logo,loading:"lazy",class:"w-full h-full object-cover"},null,8,He)]),e("div",Ie,[e("div",Ue,[e("div",qe,s((J=u.value)==null?void 0:J.name),1),e("div",{class:T(["px-1 py-0.5 rounded-[10px] text-white text-xs font-normal leading-none",((K=u.value)==null?void 0:K.shop_status)==="Online"?"bg-lime-600":"bg-slate-500"])},s((O=u.value)==null?void 0:O.shop_status),3)]),e("div",Ee,[e("div",Je,s((G=u.value)==null?void 0:G.total_products)+"+ "+s(t.$t("Items")),1)]),e("div",Ke,[e("div",{innerHTML:(Q=u.value)==null?void 0:Q.description},null,8,Oe)])])]),e("div",Ge,[e("div",Qe,[e("div",We,[e("div",Xe,s((X=(W=u.value)==null?void 0:W.rating)==null?void 0:X.toFixed(1)),1),e("div",Ye," ("+s((Y=u.value)==null?void 0:Y.total_reviews)+") ",1)]),e("div",Ze,[(l(),o(g,null,h(5,a=>{var m;return r(f(we),{key:a,class:T(["w-4 h-4",a<=((m=u.value)==null?void 0:m.rating)?"text-amber-500":"text-gray-300"])},null,8,["class"])}),64))])]),e("button",{onClick:i[0]||(i[0]=_e(a=>de(u.value),["stop"])),class:"flex items-center gap-2 px-4 py-3 bg-red-50 hover:bg-red-100 rounded-lg cursor-pointer transition-colors duration-200 relative group",title:f(d).token?t.$t("Contact Seller"):t.$t("Please login to contact the seller")},[i[7]||(i[7]=e("img",{src:xe,alt:"chat",class:"w-5 h-5"},null,-1)),e("span",tt,s(t.$t("Contact Seller")),1),f(d).token?c("",!0):(l(),o("div",st,s(t.$t("Please login to contact the seller")),1))],8,et)])]),V.value?(l(),j(ye,{key:0,show:A.value,onClose:i[1]||(i[1]=a=>A.value=!1),shop:V.value},null,8,["show","shop"])):c("",!0),r(be),e("div",at,[e("div",null,[e("button",{class:T(["px-4 py-3 rounded-[10px] text-base font-normal leading-normal",b.value?"text-white bg-primary":"text-slate-600"]),onClick:i[2]||(i[2]=a=>{b.value=!0,k.value=!1})},s(t.$t("All Products")),3),e("button",{class:T(["px-4 py-3 rounded-[10px] text-base font-normal leading-normal",k.value?"text-white bg-primary":"text-slate-600"]),onClick:ie},s(t.$t("Reviews")),3)]),e("div",lt,[ke(e("input",{type:"text",placeholder:t.$t("Search product"),class:"p-3 pr-10 bg-slate-100 rounded-lg border border-slate-200 w-full outline-none focus:border-primary transition duration-300","onUpdate:modelValue":i[3]||(i[3]=a=>z.value=a),onInput:i[4]||(i[4]=a=>ne())},null,40,ot),[[$e,z.value]]),r(f(Pe),{class:"w-6 h-6 absolute top-1/2 right-3 -translate-y-1/2 text-slate-400"})])])]))]),e("div",nt,[r(f(Re),{breakpoints:ue,spaceBetween:30,freeMode:!0,modules:ae},{default:F(()=>{var a;return[w.value?(l(),o(g,{key:1},h(3,m=>r(f(te),{key:m},{default:F(()=>[r(v,{class:"w-full h-32 rounded-xl"})]),_:2},1024)),64)):(l(!0),o(g,{key:0},h((a=u.value)==null?void 0:a.banners,m=>(l(),j(f(te),{key:m.id},{default:F(()=>[e("img",{src:m.thumbnail,alt:"banner",loading:"lazy",class:"aspect-[6/2] rounded-xl object-cover"},null,8,it)]),_:2},1024))),128))]}),_:1})])]),e("div",rt,[e("div",ut,[b.value?(l(),o("div",dt,[e("div",ct,[_.value?(l(),o(g,{key:1},h(12,a=>e("div",{key:a,class:"w-full"},[r(v,{class:"w-full h-[220px] sm:h-[330px] rounded-lg"})])),64)):(l(!0),o(g,{key:0},h($.value,a=>(l(),o("div",{key:a.id,class:"w-full"},[r(je,{product:a},null,8,["product"])]))),128))]),$.value.length==0&&!_.value?(l(),o("div",vt,s(t.$t("No Products Found")),1)):c("",!0),$.value.length>0&&!_.value?(l(),o("div",pt,[e("div",mt,s(t.$t("Showing"))+" "+s(R.value*(p.value-1)+1)+" "+s(t.$t("to"))+" "+s(R.value*(p.value-1)+$.value.length)+" "+s(t.$t("of"))+" "+s(L.value)+" "+s(t.$t("results")),1),e("div",null,[r(U,{"total-items":L.value,"items-per-page":R.value,type:"button","max-pages-shown":5,modelValue:p.value,"onUpdate:modelValue":i[5]||(i[5]=a=>p.value=a),"hide-prev-next-when-ends":!0,onClick:le},null,8,["total-items","items-per-page","modelValue"])])])):c("",!0)])):c("",!0),k.value?(l(),o("div",gt,[e("div",ht,[e("div",null,[e("div",ft,s(t.$t("Rating and Review")),1),r(Se,{reviewRatings:(Z=M.value)==null?void 0:Z.percentages,averageRating:(ee=M.value)==null?void 0:ee.rating,totalReview:S.value},null,8,["reviewRatings","averageRating","totalReview"])]),e("div",null,[e("div",wt,s(t.$t("Reviews")),1),e("div",_t,[x.value?(l(),o(g,{key:1},h(6,a=>e("div",{key:a,class:"mb-4"},[e("div",xt,[r(v,{class:"w-16 h-16 rounded-full shrink-0"}),e("div",yt,[r(v,{class:"w-full h-2.5 rounded-lg"}),r(v,{class:"w-11/12 h-2.5 rounded-lg"}),r(v,{class:"w-10/12 h-2.5 rounded-lg"})])])])),64)):(l(!0),o(g,{key:0},h(P.value,a=>(l(),o("div",{key:a.id,class:"mb-4"},[r(Ve,{review:a},null,8,["review"])]))),128)),!x.value&&P.value.length>0?(l(),o("div",bt,[e("div",kt,s(t.$t("Showing"))+" "+s(C.value*(y.value-1)+1)+" "+s(t.$t("to"))+" "+s(C.value*(y.value-1)+P.value.length)+" "+s(t.$t("of"))+" "+s(S.value)+" "+s(t.$t("results")),1),e("div",null,[r(U,{"total-items":S.value,"items-per-page":C.value,type:"button","max-pages-shown":3,modelValue:y.value,"onUpdate:modelValue":i[6]||(i[6]=a=>y.value=a),"hide-prev-next-when-ends":!0,onClick:oe},null,8,["total-items","items-per-page","modelValue"])])])):c("",!0),P.value.length==0&&!x.value?(l(),o("div",$t,[e("div",Pt,s(t.$t("No Reviews Found")),1)])):c("",!0)])])])])):c("",!0)])])])}}};export{Bt as default};
